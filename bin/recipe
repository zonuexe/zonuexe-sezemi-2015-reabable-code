#!/usr/bin/env php
<?php
define('RECIPE_FILE', dirname(__DIR__) . '/data/recipe.txt');

foreach (load_recipe(RECIPE_FILE) as $id => $name) {
    echo "{$id}: {$name}" . PHP_EOL;
}

/**
 * @param  string $file レシピファイルのpath
 * @return array  [$id => $name] の配列
 */
function load_recipe($file)
{
    $recipes = [];
    $file = new SplFileObject($file);

    foreach ($file as $index => $line) {
        $name = trim($line);
        if (strlen($name) < 1) {
            break;
        }

        $recipes[$index] = $name;
    }

    return $recipes;
}
